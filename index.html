<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy Tennis League</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="#" onclick="showPage('home')" class="nav-link active">ðŸŽ¾ Fantasy Tennis</a></li>
            <li><a href="#" onclick="showPage('team')" class="nav-link">My Team</a></li>
            <li><a href="#" onclick="showPage('matches')" class="nav-link">Matches</a></li>
            <li style="margin-left: auto;">
                <span id="user-name" class="hidden"></span>
                <button id="sign-out-btn" class="btn hidden" onclick="handleSignOut()">Sign Out</button>
                <button id="sign-in-btn" class="btn" onclick="showSignIn()">Sign In</button>
            </li>
        </ul>
    </nav>

    <div class="container">
        <!-- HOME PAGE -->
        <div id="home-page" class="page active">
            <div class="hero">
                <h1>ðŸŽ¾ Fantasy Tennis League</h1>
                <p>Build your dream team and compete with friends</p>
                <button class="btn" onclick="showPage('team')">Get Started</button>
            </div>

            <div class="grid">
                <div class="stat-box">
                    <div class="stat-value" id="total-players">-</div>
                    <div class="stat-label">Active Players</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">2026</div>
                    <div class="stat-label">Season</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">French Open</div>
                    <div class="stat-label">Next Grand Slam</div>
                </div>
            </div>

            <div class="card">
                <h2>How It Works</h2>
                <ol class="how-to-list">
                    <li><strong>Build Your Team:</strong> Select 4 ATP and 4 WTA players</li>
                    <li><strong>Earn Points:</strong> Players score based on real tournament results</li>
                    <li><strong>Trade & Compete:</strong> Make changes after each Grand Slam</li>
                    <li><strong>Win:</strong> Highest points at season end wins!</li>
                </ol>
            </div>
        </div>

        <!-- TEAM PAGE -->
        <div id="team-page" class="page">
            <div class="card">
                <h2>My Team</h2>
                <div id="user-team-info" class="user-info hidden">
                    <strong>Team:</strong> <span id="team-name"></span> | 
                    <strong>Players:</strong> <span id="team-size">0</span>/10
                </div>
                <div id="my-team-list">
                    <div class="loading">Sign in to view your team</div>
                </div>
            </div>

                            <!-- Add this right before the filter buttons in the Team page -->
            <div class="section">
                <h2>Available Players (<span id="total-players">0</span>)</h2>
                
                <!-- Search Bar -->
                <div style="margin-bottom: 1rem;">
                    <input 
                        type="text" 
                        id="player-search" 
                        placeholder="ðŸ” Search players by name..." 
                        oninput="searchPlayers(this.value)"
                        style="
                            width: 100%;
                            padding: 0.75rem 1rem;
                            font-size: 1rem;
                            border: 2px solid #e0e0e0;
                            border-radius: 10px;
                            outline: none;
                            transition: border-color 0.3s;
                        "
                        onfocus="this.style.borderColor='#1976d2'"
                        onblur="this.style.borderColor='#e0e0e0'"
                    />
                </div>
                
                <!-- Filter buttons -->
                <!-- Filter buttons -->
                <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
                    <button class="btn btn-secondary filter-btn" id="filter-all" onclick="filterPlayers('all')">All</button>
                    <button class="btn filter-btn" id="filter-atp" onclick="filterPlayers('ATP')">ATP</button>
                    <button class="btn filter-btn" id="filter-wta" onclick="filterPlayers('WTA')">WTA</button>
                </div>
                
                <div id="available-players">
                    <div class="loading">Loading players...</div>
                </div>
            </div>
        </div>

        <!-- MATCHES PAGE -->
        <div id="matches-page" class="page">
            <div class="card">
                <h2>Recent Matches</h2>
                <div id="matches-list">
                    <div class="loading">Loading matches...</div>
                </div>
            </div>

            <div class="card">
                <h2>Upcoming Tournaments</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Tournament</th>
                            <th>Date</th>
                            <th>Surface</th>
                            <th>Tour</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Australian Open</td>
                            <td>January 2026</td>
                            <td>Hard</td>
                            <td>Both</td>
                        </tr>
                        <tr>
                            <td>French Open</td>
                            <td>May 2026</td>
                            <td>Clay</td>
                            <td>Both</td>
                        </tr>
                        <tr>
                            <td>Wimbledon</td>
                            <td>July 2026</td>
                            <td>Grass</td>
                            <td>Both</td>
                        </tr>
                        <tr>
                            <td>US Open</td>
                            <td>August 2026</td>
                            <td>Hard</td>
                            <td>Both</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>